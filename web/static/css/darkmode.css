/* ============================================================
   Dark Mode CSS
   ------------------------------------------------------------
   Účel:
   - Přepisuje barvy a vzhled komponent pro tmavý režim.
   - Zajišťuje konzistentní kontrast a čitelnost v celé aplikaci.
   - Navazuje na base.css a component.css.
   ============================================================ */

/* === Globální pozadí a text === */
body.dark-mode {
  background-color: #0b1220;
  color: #e6eef6;
}
body.dark-mode a {
  color: #8fb4ff;
}

/* === Bootstrap utility overrides === */
body.dark-mode .bg-light,
body.dark-mode .bg-white {
  background-color: #1a2235 !important;
  color: #e6eef6 !important;
}
body.dark-mode .text-dark {
  color: #e6eef6 !important;
}
body.dark-mode .border-light {
  border-color: #1f2a40 !important;
}

/* === Navbar & Sidebar (desktop) === */
body.dark-mode .navbar {
  background-color: #1a2235 !important;
  color: #e6eef6;
  border-bottom: 1px solid #1f2a40;
}
body.dark-mode .sidebar-fixed {
  background-color: #0f1320;
  border-right-color: #1f2a40;
}

/* === Offcanvas sidebar (mobilní) === */
body.dark-mode .offcanvas {
  background-color: #0f1320;
  color: #e6eef6;
}
body.dark-mode .offcanvas-header {
  border-bottom: 1px solid #1f2a40;
}
body.dark-mode .offcanvas-title {
  color: #e6eef6;
}
body.dark-mode .offcanvas-body {
  background-color: #0f1320;
  color: #e6eef6;
}
body.dark-mode .offcanvas .nav-link {
  color: #e6eef6;
}
body.dark-mode .offcanvas .nav-link:hover {
  background-color: #1a2235;
  color: #8fb4ff;
}
body.dark-mode .offcanvas small.text-muted {
  color: #9fb0c8 !important;
}

/* === Main content area === */
body.dark-mode main {
  background-color: #0b1220;
  color: #e6eef6;
}
body.dark-mode .container-fluid,
body.dark-mode .row {
  background-color: #0b1220;
}

/* === Karty, sekce, bloky === */
body.dark-mode .card,
body.dark-mode .section {
  background-color: #1a2235;
  color: #e6eef6;
  border-color: #1f2a40;
  box-shadow: 0 6px 20px rgba(2,6,23,0.6);
}

/* === Vnitřní vrstvy sekcí (oprava světlého pásu) === */
body.dark-mode .section .container,
body.dark-mode .section .row,
body.dark-mode .section .card-body,
body.dark-mode .section .note,
body.dark-mode .section .flash-list,
body-dark-mode .section .content,
body.dark-mode .section .bg-white,
body.dark-mode .section .bg-light {
  background-color: transparent !important;
  color: inherit;
}

/* === Nadpisy a primární barvy === */
body.dark-mode .text-primary,
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3 {
  color: #8fb4ff !important;
}

/* === Breadcrumb === */
body.dark-mode #breadcrumb {
  color: #e6eef6;
}
body.dark-mode .breadcrumb-sep {
  color: #6f8290;
  opacity: 0.9;
}

/* === Form text (např. pod výběrem senzoru) === */
body.dark-mode .form-text {
  color: #9fb0c8 !important;
}

/* === Section note (např. "agreguji dny") === */
body.dark-mode .section-note,
body.dark-mode .section-note .text-muted,
body-dark-mode #history-note {
  color: #9fb0c8 !important;
}

/* === Tabulky === */
body.dark-mode .table {
  --bs-table-bg: #1a2235;
  --bs-table-striped-bg: #1a1a1a;
  --bs-table-striped-color: #e6eef6;
  --bs-table-hover-bg: #2a334a;
  --bs-table-hover-color: #e6eef6;
  --bs-table-color: #e6eef6;
  --bs-table-border-color: #2a334a;
}

/* === Gauge prvky === */
body.dark-mode .gauge-bg {
  stroke: #444;
}
body.dark-mode .gauge-value {
  fill: #ddd;
}
body.dark-mode .gauge-unit {
  fill: #aaa;
}

/* === Login stránka === */
body.dark-mode .login-container {
  background-color: #0b1220;
}
body.dark-mode .login-card {
  background-color: #1a2235;
  border-color: rgba(255,255,255,0.04);
}
body.dark-mode .login-card h1,
body.dark-mode .login-card .text-primary {
  color: #8fb4ff !important;
}
body.dark-mode .login-card p.lead,
body.dark-mode .login-note,
body-dark-mode .login-actions {
  color: #cbd6e4;
}
body.dark-mode .login-form input[type="text"],
body-dark-mode .login-form input[type="password"],
body-dark-mode .login-form input[type="email"] {
  background: #071022;
  border: 1px solid rgba(255,255,255,0.06);
  color: #e6f2ff;
  box-shadow: none;
}
body.dark-mode .btn-login {
  box-shadow: 0 6px 18px rgba(11,95,255,0.18);
}

/* === Flash zprávy === */
body.dark-mode .flash-list li.success {
  background: rgba(6,60,48,0.12);
  color: #9be6c9;
  border: 1px solid rgba(4,98,70,0.06);
}
body.dark-mode .flash-list li.info {
  background: rgba(7,43,122,0.12);
  color: #b9d9ff;
  border: 1px solid rgba(8,78,214,0.06);
}
body.dark-mode .flash-list li.danger {
  background: rgba(120,8,8,0.12);
  color: #ffb3b3;
  border: 1px solid rgba(166,25,25,0.06);
}

/* === Ovládací prvky === */

/* Checkbox */
body.dark-mode .form-check-input {
  background-color: #1a2235;
  border: 1px solid #2a334a;
}
body.dark-mode .form-check-input:checked {
  background-color: #0b5fff;
  border-color: #0b5fff;
}
body.dark-mode .form-check-label {
  color: #e6eef6;
}

/* Select */
body.dark-mode .form-select {
  background-color: #1a2235;
  border: 1px solid #2a334a;
  color: #e6eef6;
}
body.dark-mode .form-select:focus {
  border-color: #0b5fff;
  box-shadow: 0 0 0 0.25rem rgba(11,95,255,0.25);
}

/* Range slider (setpoint) */
body.dark-mode .form-range {
  accent-color: #0b5fff;
}
body.dark-mode .form-range::-webkit-slider-thumb {
  background: #0b5fff;
  border: none;
}
body.dark-mode .form-range::-moz-range-thumb {
  background: #0b5fff;
  border: none;
}
body.dark-mode .form-range::-webkit-slider-runnable-track {
  background: #2a334a;
}
body.dark-mode .form-range::-moz-range-track {
  background: #2a334a;
}

/* === Tlačítka === */
body.dark-mode .btn-primary {
  background-color: #0b5fff;
  border-color: #0b5fff;
  color: #fff;
}
body.dark-mode .btn-primary:hover {
  background-color: #084bcc;
  border-color: #084bcc;
}

body.dark-mode .btn-outline-primary {
  color: #8fb4ff;
  border-color: #8fb4ff;
}
body.dark-mode .btn-outline-primary:hover {
  background-color: #0b5fff;
  color: #fff;
}

body.dark-mode .btn-outline-success {
  color: #6fdc8c;
  border-color: #6fdc8c;
}
body.dark-mode .btn-outline-success:hover {
  background-color: #28a745;
  color: #fff;
}

body.dark-mode .btn-outline-danger {
  color: #ff7b7b;
  border-color: #ff7b7b;
}
body.dark-mode .btn-outline-danger:hover {
  background-color: #dc3545;
  color: #fff;
}

body.dark-mode .btn-outline-secondary {
  color: #cbd6e4;
  border-color: #cbd6e4;
}
body.dark-mode .btn-outline-secondary:hover {
  background-color: #6c757d;
  color: #fff;
}

/* === Plotly grafy === */
/* Použij v JS:
const layout = {
  paper_bgcolor: '#0b1220',
  plot_bgcolor: '#0b1220',
  font: { color: '#e6eef6' },
  xaxis: { color: '#e6eef6' },
  yaxis: { color: '#e6eef6' }
};
*/
